#version 430


layout(triangles) in;
layout(line_strip, max_vertices = 4) out;

uniform mat4 m_viewProjection;

void main()
{
	int length = gl_in.length();
	for(int i = 0; i < length; i++)
	{
		vec4 position = gl_in[i].gl_Position;
		gl_Position = m_viewProjection * position;
		EmitVertex();
	}
	vec4 position = gl_in[0].gl_Position;
	gl_Position = m_viewProjection * position;
	EmitVertex();

	EndPrimitive();
}